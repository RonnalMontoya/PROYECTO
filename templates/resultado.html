{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center">üìã Productos Registrados</h1>
    <p class="text-center text-muted">Aqu√≠ puedes ver los productos guardados en MySQL, TXT, JSON y CSV.</p>
    <hr>

    <!-- Productos en MySQL -->
    <h3 class="mt-4">üóÑÔ∏è Productos en MySQL</h3>
    <table class="table table-striped table-bordered shadow-sm">
        <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Cantidad</th>
                <th>Precio (USD)</th>
            </tr>
        </thead>
        <tbody>
            {% for p in productos_db %}
            <tr>
                <td>{{ p.id }}</td>
                <td>{{ p.nombre }}</td>
                <td>{{ p.cantidad }}</td>
                <td>${{ "%.2f"|format(p.precio) }}</td>
            </tr>
            {% else %}
            <tr>
                <td colspan="4" class="text-center text-muted">No hay productos en MySQL</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Productos en TXT -->
    <h3 class="mt-4">üìÑ Productos en TXT</h3>
    <table class="table table-striped table-bordered shadow-sm">
        <thead class="table-primary">
            <tr>
                <th>Nombre</th>
                <th>Cantidad</th>
                <th>Precio (USD)</th>
            </tr>
        </thead>
        <tbody>
            {% for p in productos_txt %}
            <tr>
                <td>{{ p.nombre }}</td>
                <td>{{ p.cantidad }}</td>
                <td>${{ "%.2f"|format(p.precio) }}</td>
            </tr>
            {% else %}
            <tr>
                <td colspan="3" class="text-center text-muted">No hay productos en TXT</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Productos en JSON -->
    <h3 class="mt-4">üîó Productos en JSON</h3>
    <table class="table table-striped table-bordered shadow-sm">
        <thead class="table-success">
            <tr>
                <th>Nombre</th>
                <th>Cantidad</th>
                <th>Precio (USD)</th>
            </tr>
        </thead>
        <tbody>
            {% for p in productos_json %}
            <tr>
                <td>{{ p.nombre }}</td>
                <td>{{ p.cantidad }}</td>
                <td>${{ "%.2f"|format(p.precio) }}</td>
            </tr>
            {% else %}
            <tr>
                <td colspan="3" class="text-center text-muted">No hay productos en JSON</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Productos en CSV -->
    <h3 class="mt-4">üìä Productos en CSV</h3>
    <table class="table table-striped table-bordered shadow-sm">
        <thead class="table-warning">
            <tr>
                <th>Nombre</th>
                <th>Cantidad</th>
                <th>Precio (USD)</th>
            </tr>
        </thead>
        <tbody>
            {% for p in productos_csv %}
            <tr>
                <td>{{ p.nombre }}</td>
                <td>{{ p.cantidad }}</td>
                <td>${{ "%.2f"|format(p.precio) }}</td>
            </tr>
            {% else %}
            <tr>
                <td colspan="3" class="text-center text-muted">No hay productos en CSV</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Bot√≥n para volver -->
    <div class="d-flex justify-content-center mt-4">
        <a href="{{ url_for('formulario') }}" class="btn btn-success me-2">‚ûï A√±adir Producto</a>
        <a href="{{ url_for('index') }}" class="btn btn-secondary">üè† Volver al Inicio</a>
    </div>
</div>
{% endblock %}
